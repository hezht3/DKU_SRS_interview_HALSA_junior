---
title: "DKU_SRSinterview_task_HALSA_junior"
author: "Johnathan He"
date: "2021/3/24"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# DKU SRS interview task for junior students: HALSA

Hi. I would like to again express my thanks for your interests in our group's projects and thanks for taking out time participating in the arranged interview. We are thinking about implicating this short task in the interview for you to know that what your work might be like in the SRS project and for us to better know you, so please take it easy.

This task is to generate a Kaplan-Meier survival curve in R or Stata. The time limit is 25 minutes.


## Setup

To access all of the files I recommend you fork this repo and then clone it locally. Instructions on how to do this can be found here: <https://help.github.com/en/github/getting-started-with-github/fork-a-repo>

The other option is to click the green "clone or download" button and then click "Download ZIP". You then should extract all of the files to the location you want to edit your code.


## Dataset

The dataset you get is a time-dependent longitudinal dataset of the oldest-old participants (ie, those aged 80-105 years) from each waves (1998 to 2018) of the Chinese Longitudinal Healthy Longevity Surveys (CLHLS).

id: id of the interviewee.
trueage: the age of the interviee at the time of the survey.
sur_year: time between the current survey and the baseline survey (unit is year).
status: survival status of the interviee. "0" means alive, "1" means death.
SHE8: a simplified healthy eating index (SHE-index) generated by researchers based on eating habits.


## Task

The task is to generate a Kaplan-Meier survival curve with a risk table. A sample curve (time_dependent_survival_curve_male.png) is attached for your reference.

![caption](F:/Github/DKU_SRSorSWsinterview_task/time_dependent_survival_curve_male.png)


## Notes

The time limit is 25 minutes. It is definately not easy to finish all these tasks in 40 minutes, but let's see how much you can finish in this designated time.

We encourage you to use R or Stata in this task. Packages beyond R base or contributed commands for Stata are allowed.

Please feel free to search on internet during the task.

Please send back your code script and outputed plot when the time is out.